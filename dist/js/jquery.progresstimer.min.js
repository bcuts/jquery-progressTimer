/**!
 * jQuery Progress Timer - v0.0.3 - 7/18/2014
 * http://www.thomasnorberg.com
 * Copyright (c) 2014 Thomas Norberg;
 * Licensed MIT
 */

if("undefined"==typeof jQuery)throw new Error("jQuery progress timer requires jQuery");!function(a){a.fn.progressTimer=function(b){var c,d=a.extend({},a.fn.progressTimer.defaults,b),e=a("<span/>");return this.each(function(){function b(){var a=new Date-i,b=g?100:a/j*100;f.attr("aria-valuenow",b),f.width(b+"%");var c=b.toFixed(2);c>=100&&(c=100),e.html(c+"%"),5e3>=j-a&&f.removeClass(d.baseStyle).removeClass(d.completeStyle).addClass(d.warningStyle),(a>=j||g)&&l.call(k)}var f,g=d.showComplete===!0,h=d.showPercentage===!0,i=new Date,j=1e3*d.timeLimit,k=this,l=function(){if(f=a(".progress-bar",a(this)),"undefined"!=typeof f.data("interval")){var b=f.data("interval");window.clearInterval(b)}f.removeClass(d.baseStyle).removeClass(d.warningStyle).addClass(d.completeStyle),f.width("100%"),a("span",f).html("100%"),f.attr("aria-valuenow",100),setTimeout(function(){d.onFinish.call(f)},500)};if(g)return l.call(this),this;a(this).empty();var m=a("<div>").addClass("progress");return f=a("<div>").addClass("progress-bar active progress-bar-striped").addClass(d.baseStyle).attr("role","progressbar").attr("aria-valuenow","0").attr("aria-valuemin","0").attr("aria-valuemax",d.timeLimit),e.appendTo(f),h||e.addClass("sr-only"),f.appendTo(m),m.appendTo(a(this)),"undefined"==typeof f.data("interval")&&(c=window.setInterval(b,250),f.data("interval",c)),this}),this},a.fn.progressTimer.defaults={timeLimit:60,warningThreshold:5,onFinish:function(){},baseStyle:"",warningStyle:"progress-bar-danger",completeStyle:"progress-bar-success",showPercentage:!0,showComplete:!1}}(jQuery);